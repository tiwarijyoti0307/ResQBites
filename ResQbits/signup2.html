<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta
			name="viewport"
			content="width=device-width, initial-scale=1.0"
		/>
		<title>Login Page</title>
		<script src="https://cdn.tailwindcss.com"></script>
		<script
			defer
			src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"
		></script>
	</head>
	<body>
		<div class="relative py-16">
			<div
				class="container relative m-auto px-6 text-gray-500 md:px-12 xl:px-40"
			>
				<div class="m-auto space-y-8 md:w-8/12 lg:w-6/12 xl:w-6/12">
					<div
						class="rounded-3xl border border-gray-100 bg-white shadow-2xl shadow-gray-600/10 backdrop-blur-2xl"
					>
						<div class="p-8 py-12 sm:p-16">
							<h2 class="mb-8 text-2xl font-bold text-gray-800">
								Sign up to your account
							</h2>
							<form
								class="space-y-8"
								x-data="formData"
								@submit="handleSignup"
							>
								<div class="space-y-2">
									<label
										for="email"
										class="text-gray-600"
										>Email</label
									>
									<input
										type="email"
										name="email"
										id="email"
										autocomplete="username"
										x-model="email"
										class="focus:outline-none block w-full rounded-md border border-gray-200 bg-transparent px-4 py-3 text-gray-600 transition duration-300 invalid:ring-2 invalid:ring-red-400 focus:ring-2 focus:ring-cyan-300"
									/>
								</div>

								<div>
									<div
										class="flex items-center justify-between"
									>
										<label
											for="pwd"
											class="text-gray-600"
											>Password</label
										>
									</div>
									<input
										type="password"
										name="pwd"
										id="pwd"
										x-model="pwd"
										autocomplete="current-password"
										class="focus:outline-none block w-full rounded-md border border-gray-200 bg-transparent px-4 py-3 text-gray-600 transition duration-300 invalid:ring-2 invalid:ring-red-400 focus:ring-2 focus:ring-cyan-300"
									/>
								</div>

								<button
									type="submit"
									class="relative flex h-11 w-full items-center justify-center px-6 bg-cyan-600 before:absolute before:inset-0 before:rounded-full before:bg-primary before:transition before:duration-300 hover:before:scale-105 active:duration-75 active:before:scale-95"
								>
									<span
										class="relative text-base font-semibold text-white"
										>Sign up</span
									>
								</button>

								<p
									class="border-t border-gray-100 pt-6 text-sm text-gray-500"
								>
									Already have an account ?
									<a
										href="login2.html"
										class="text-primary"
										>Login</a
									>
								</p>
							</form>
						</div>
					</div>
				</div>
			</div>
		</div>

		<script>
			document.addEventListener("alpine:init", () => {
				Alpine.data("formData", () => ({
					email: "",
					pwd: "",
					async handleSignup(event) {
						event.preventDefault();
						const res = await fetch(
							"http://localhost:8090/api/collections/users/auth-with-password",
							{
								method: "POST",
								headers: {
									"Content-Type": "application/json",
								},
								body: JSON.stringify({
									identity: this.email,
									password: this.pwd,
								}),
							}
						);
						console.log(res);
						// if (res.ok) {
						// 	alert("login sucessfulll");
						// 	window.location.href = "next.html";
						// } else {
						// 	alert("invalid login details");
						// }
					},
				}));
			});
		</script>
	</body>
</html>
